{% extends "base.html" %}

{% block the_content %}

{% block the_result %}
<div>
	<form method="POST" action="/searchform">
<table class="searchbox">
	<tr>
		<td colspan="2" class="searchbox_top">
		I'm looking for
		</td>
	</tr>
    <tr>
        <td class="searchbox_left">
		<label>Country: </label>
		</td>
		<td class="searchbox_right">
		<select id="country" name="country">
		<option value="Ireland">Ireland</option>
		<option value="United Kingdom">United Kingdom</option>
		</select>
		<input type="text" id="location" name="location" placeholder="Location, Pet Sitter Name">
		</td>
    </tr>
	<tr>
		<td class="searchbox_left">
			<label> Pet Types: </label>
		</td>
		<td class="searchbox_right">
			<select id="numofpet" name="numofpet" onchange="myFunction()">
			<option value="">Nums</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4+</option>
			</select>
		
			<select id="pettype1" name="pettype1">
			<option value="">Pet Type 1</option>
			{% for row in pettype %}
			<option value="{{ row }}">{{ row }}</option>
			{% endfor %}
			</select>
			
			<select id="pettype2" name="pettype2" style="display:none;">
			<option value="">Pet Type 2</option>
			{% for row in pettype %}
			<option value="{{ row }}">{{ row }}</option>
			{% endfor %}
			</select>
			
			<select id="pettype3" name="pettype3" style="display:none;">
			<option value="">Pet Type 3</option>
			{% for row in pettype %}
			<option value="{{ row }}">{{ row }}</option>
			{% endfor %}
			</select>
			
			<select id="pettype4" name="pettype4" style="display:none;">
			<option value="">Pet Type 4</option>
			{% for row in pettype %}
			<option value="{{ row }}">{{ row }}</option>
			{% endfor %}
			</select>

			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		
			<script>
			function myFunction(){
				if(document.getElementById("numofpet").value == "2")
				{
					$("#pettype2").show();
					$("#pettype3").hide(); 
					$("#pettype4").hide(); 
				}
				else if(document.getElementById("numofpet").value == "3")
				{
					$("#pettype2").show();
					$("#pettype3").show();
					$("#pettype4").hide();
				}
				else if(document.getElementById("numofpet").value == "4")
				{
					$("#pettype2").show();
					$("#pettype3").show();
					$("#pettype4").show();
				}
				else
				{
					$("#pettype2").hide(); 
					$("#pettype3").hide(); 
					$("#pettype4").hide(); 
				}
			};
			</script>
		</td>
	</tr>

	
	<tr>
		<td colspan="2" class="searchbox_bottom">
		<input type="submit" value="Search" class="search_button">
		</td>
	</tr>
</table>
</form>
<br>
<br>
<br>

	{% if the_num == 0 %}
		<p>NO FOUND</p>
	{% else %}
		<table>
			<tr>
				<td>Result: {{ the_num }}</td>
			</tr>
		</table>
		{% for row in data %}
		<table class = "showbox">
		  <tr>
			<td class="left" rowspan="4">
			<div class="image_not_found">
			<a href="/viewpetsitter/{{ row[2] }}">	
					<img src="/static/images/{{ row[0] }}a.jpg" width="200" height="200" onerror="this.style.display = 'none'" />		
			</a>
			</div>
			</td>
			<td class="petsittername">{{ row[2] }}</td>
			<td class="price" >â‚¬{{ row[10] }}/per night</td>
		  </tr>
		  <tr>
			<td class="location" colspan="2">Location: {{ row[8] }},{{ row[7] }},{{ row[6] }},{{ row[5] }}</td>
		  </tr>
		  <tr>
			<td class="description" colspan="2">Description: {{ row[9] }}</td>
		  </tr>
		  <tr>
			<td></td>
			<td class="button"><a href="/viewpetsitter/{{ row[2] }}"><button class="moredetails">More Details</button></a></td>
		  </tr>
		</table>
		<br><br>
		{% endfor %}
	{% endif %}
</div>
{% endblock the_result %}

{% endblock %}